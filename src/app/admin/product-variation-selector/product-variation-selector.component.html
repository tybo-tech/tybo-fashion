<div *ngFor="let variation of variations" class="mb-4 border p-3 rounded">
  <!-- Variation Toggle -->
  <div class="form-check mb-2">
    <input
      class="form-check-input"
      type="checkbox"
      [id]="'v-' + variation.VariationId"
      [(ngModel)]="variation._selected"
      (ngModelChange)="onToggleVariation(variation)"
    />
    <label class="form-check-label fw-bold" [for]="'v-' + variation.VariationId">
      {{ variation.Name }}
    </label>
    <div class="text-muted small">{{ variation.Description }}</div>
  </div>

  <!-- Options -->
  <div *ngIf="variation._selected" class="row g-2 ps-3">
    <div *ngFor="let option of variation.Options" class="col-6 col-md-4">
      <div class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          [id]="'opt-' + option.VariationOptionId"
          [(ngModel)]="option._selected"
          (ngModelChange)="emit()"
        />
        <label class="form-check-label" [for]="'opt-' + option.VariationOptionId">
          {{ option.Name }}
        </label>
      </div>
    </div>
  </div>
</div>
