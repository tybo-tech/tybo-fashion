<app-checkout-nav [settings]="settings" />
<div class="container mt-5" *ngIf="order">
  <div class="row justify-content-center">
    <div class="col-md-8 text-center">
      <div class="card shadow-sm border-0">
        <div class="card-body">
          <div class="my-4">
            <i class="bi bi-check-circle text-success"></i>
            <h2 class="mt-3 text-success">Thank You for Your Order!</h2>
            <p class="lead">
              Your order <strong>{{ order.JobNo }}</strong> has been placed
              successfully.
            </p>
          </div>
          <hr />
          <div class="order-summary text-left">
            <h4>Order Summary</h4>
            <p><strong>Order Number:</strong> {{ order.JobNo }}</p>
            <p>
              <strong>Order Date:</strong>
              {{ order.CreateDate | date : "fullDate" }}
            </p>
            <p>
              <strong>Due Date:</strong> {{ order.DueDate | date : "fullDate" }}
            </p>
            <p>
              <strong>Shipping:</strong> {{ order.Shipping }} (R{{
                order.ShippingPrice
              }})
            </p>
            <p><strong>Total Cost:</strong> R{{ order.TotalCost }}</p>
          </div>
          <hr />
          <div class="order-items">
            <h4 class="text-center">Items Ordered</h4>
            <ul class="list-group">
              <li class="list-group-item" *ngFor="let item of order.JobItems">
                <div class="row">
                  <div class="col-2">
                    <img
                      [src]="item.FeaturedImageUrl"
                      alt="{{ item.ItemName }}"
                      class="img-fluid"
                    />
                  </div>
                  <div class="col-10">
                    <h6 class="mb-0">{{ item.ItemName }}</h6>
                    <p class="p-0 m-0 d-flex gap-2">
                      <small>Size: {{ item.Size }}</small>
                      <small>Quantity: {{ item.Quantity }}</small>
                    </p>
                    <strong>Price:</strong> R{{ item.SubTotal }}
                  </div>
                </div>
              </li>
            </ul>
          </div>
          <hr />
          <div class="alert alert-success mt-4">
            <p>We've sent you a confirmation email with your order details.</p>
          </div>
          <a [href]="backUrl" class="btn btn-primary mt-3">Continue Shopping</a>
        </div>
      </div>
    </div>
  </div>
</div>
